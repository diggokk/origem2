/* ===== FUNDO ESTELAR COM PLANETA E SOL ===== */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 5px),
        radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 3px),
        radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 4px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    background-position: 0 0, 40px 60px, 130px 270px;
    z-index: -2;
    animation: twinkle 8s linear infinite;
}

/* Planeta no fundo */
body::after {
    content: '';
    position: fixed;
    bottom: -150px;
    right: -150px;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle at 30% 30%, 
        #4a6fa5 0%, 
        #3a5a8a 20%,
        #2a4a75 40%,
        #1a3a60 60%,
        #0a2a4a 80%);
    border-radius: 50%;
    box-shadow: 
        inset -20px -20px 40px rgba(0, 0, 0, 0.7),
        inset 10px 10px 30px rgba(255, 255, 255, 0.2),
        0 0 50px rgba(74, 111, 165, 0.6);
    z-index: -1;
    opacity: 0.7;
    animation: float 25s infinite alternate ease-in-out;
}

/* Sol no canto superior esquerdo */
.sun {
    position: fixed;
    top: -100px;
    left: -100px;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle at 35% 35%, 
        #fff9c4 0%, 
        #ffeb3b 15%,
        #ffc107 30%,
        #ff9800 45%,
        #ff5722 60%,
        #f44336 75%);
    border-radius: 50%;
    box-shadow: 
        0 0 100px rgba(255, 235, 59, 0.8),
        0 0 150px rgba(255, 193, 7, 0.6),
        0 0 200px rgba(255, 152, 0, 0.4);
    z-index: -1;
    animation: pulseSun 8s infinite alternate;
}

/* Adicionando mais estrelas com diferentes tamanhos e brilhos */
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -3;
}

.stars::before, .stars::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20% 30%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 40% 70%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 60% 80%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 80% 10%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 10% 90%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 90% 40%, white, rgba(0,0,0,0)),
        radial-gradient(3px 3px at 70% 20%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 30% 60%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 50% 50%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 15% 25%, white, rgba(0,0,0,0));
    background-repeat: repeat;
    background-size: 200px 200px;
    animation: twinkle 7s infinite;
    opacity: 0.7;
}

.stars::after {
    background-image: 
        radial-gradient(2px 2px at 15% 65%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 75% 35%, white, rgba(0,0,0,0)),
        radial-gradient(3px 3px at 25% 15%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 85% 85%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 55% 45%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 95% 5%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 5% 95%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 65% 75%, white, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 35% 55%, white, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 45% 25%, white, rgba(0,0,0,0));
    animation-delay: 3.5s;
}

/* Adicionando algumas estrelas cadentes ocasionais */
@keyframes shootingStar {
    0% {
        transform: translateX(-100px) translateY(-100px) rotate(45deg);
        opacity: 0;
        width: 0;
    }
    10% {
        opacity: 1;
        width: 100px;
    }
    100% {
        transform: translateX(100vw) translateY(100vh) rotate(45deg);
        opacity: 0;
        width: 0;
    }
}

.shooting-star {
    position: fixed;
    top: 0;
    left: 0;
    height: 2px;
    background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%, rgba(255,255,255,0) 100%);
    animation: shootingStar 3s linear infinite;
    opacity: 0;
    z-index: -2;
}

/* Adicionando nebulosas para um efeito mais espacial */
.nebula {
    position: fixed;
    border-radius: 50%;
    filter: blur(40px);
    opacity: 0.1;
    z-index: -2;
}

.nebula-1 {
    top: 20%;
    right: 10%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, #4a00e0, transparent 70%);
    animation: floatNebula 30s infinite alternate;
}

.nebula-2 {
    bottom: 30%;
    left: 15%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, #8e2de2, transparent 70%);
    animation: floatNebula 40s infinite alternate-reverse;
}

.nebula-3 {
    top: 60%;
    right: 30%;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, #00d9f5, transparent 70%);
    animation: floatNebula 35s infinite alternate;
}

/* ===== ANIMAÇÕES PERSONALIZADAS ===== */
@keyframes pulseSun {
    0%, 100% {
        box-shadow: 
            0 0 100px rgba(255, 235, 59, 0.8),
            0 0 150px rgba(255, 193, 7, 0.6),
            0 0 200px rgba(255, 152, 0, 0.4);
        transform: scale(1);
    }
    50% {
        box-shadow: 
            0 0 120px rgba(255, 235, 59, 0.9),
            0 0 180px rgba(255, 193, 7, 0.7),
            0 0 250px rgba(255, 152, 0, 0.5);
        transform: scale(1.05);
    }
}

@keyframes floatNebula {
    0%, 100% {
        transform: translate(0, 0) scale(1);
    }
    50% {
        transform: translate(20px, -20px) scale(1.1);
    }
}

/* Ajustando o z-index do canvas para ficar acima dos elementos de fundo */
canvas {
    z-index: 1;
}

/* Ajustando a barra de progresso do Big Bang para ficar mais visível */
#bigbang-cooldown {
    z-index: 100;
}

/* Ajustando a mensagem do Big Bang para ter mais destaque */
#big-bang-message {
    z-index: 10001;
    text-shadow: 
        0 0 10px #ff00ff, 
        0 0 20px #ff00ff,
        0 0 30px #ff00ff,
        0 0 40px #ff00ff;
    animation: bigBangPulse 1.5s infinite alternate;
}

@keyframes bigBangPulse {
    from {
        opacity: 0.7;
        transform: translate(-50%, -50%) scale(1);
    }
    to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1);
    }
}

/* Ajustando a supernova para ter mais impacto visual */
#supernova {
    z-index: 10000;
}

/* Ajustando a onda de choque para ser mais visível */
#shockwave {
    z-index: 9999;
    border: 3px solid rgba(255, 255, 255, 0.9);
}

/* Ajustando o NPC cósmico para combinar com o tema */
#cosmic-npc .npc-face {
    text-shadow: 0 0 15px var(--accent);
    animation: npcPulse 3s infinite alternate;
}

@keyframes npcPulse {
    from {
        transform: scale(1);
        text-shadow: 0 0 10px var(--accent);
    }
    to {
        transform: scale(1.1);
        text-shadow: 0 0 20px var(--accent), 0 0 30px var(--accent-secondary);
    }
}

/* Ajustes para modo história */
.story-container {
    z-index: 1000;
}

/* Ajustando a tela de game over para ter mais profundidade */
#game-over-screen {
    z-index: 10000;
}

/* Ajustando os modais para ficarem acima de tudo */
#galaxy-map, #skill-tree, #skins-modal {
    z-index: 10001;
}

/* Adicionando elementos de fundo dinâmicos via JavaScript posteriormente */